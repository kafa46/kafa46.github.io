
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>3.5.1. Question List 조회 &#8212; Flask Tutorial for CJU Students</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="3.5.2. Question 상세 조회" href="sec03_ch05-02_read_question_detail.html" />
    <link rel="prev" title="3.5. 질문 게시판 만들기" href="sec03_ch05_question_coding.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/prof_noh.jpg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Flask Tutorial for CJU Students</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../intro.html">
   Flask Tutorial을 시작하며
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../ch01_intro_to_flask.html">
   1. Flask 소개 (Intro)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../ch02_todo_list.html">
     1.3. Flask를 위한 사전 준비 목록
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ch03_prep_intro_to_vscode.html">
     1.4. 준비 1. VS Code 소개 및 설치
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ch04_prep_anaconda_env.html">
     1.5. 준비 2. 가상환경 및
     <code class="docutils literal notranslate">
      <span class="pre">
       anaconda
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ch05_prep_flask_installation.html">
     1.6. 준비 3.
     <code class="docutils literal notranslate">
      <span class="pre">
       flask
      </span>
     </code>
     설치
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ch06_prep_gitignore.html">
     1.7. 준비 4.
     <code class="docutils literal notranslate">
      <span class="pre">
       .gitignore
      </span>
     </code>
     세팅
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ch07_prep_dependancy_requirements.html">
     1.8. 준비 5. 의존성 파일
     <code class="docutils literal notranslate">
      <span class="pre">
       requirement.txt
      </span>
     </code>
     생성
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../ch08_hello_world_flask.html">
   2. 맛보기로 만드는 flask app
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../ch08-1_first_app_helloCJU.html">
     2.1. Flask app 코딩
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ch08-2_run_flask_server.html">
     2.2. Flask 서버 실행
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ch08-3_setting_FLAK_APP.html">
     2.3.
     <code class="docutils literal notranslate">
      <span class="pre">
       FLASK_APP
      </span>
     </code>
     설정
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ch08-4_setting_develop_mode.html">
     2.4. 개발자 모드 설정
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="sec03_ch00_intro_fundamentals.html">
   3. Flask 기본 구조 소개
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="sec03_ch01_basic_project_structure.html">
     3.1. 프로젝트 기본 구조
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="sec03_ch02_application_factory.html">
     3.2. Application Factory 패턴
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="sec03_ch03_Blueprint_class.html">
     3.3. Blueprint 클래스 활용
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="sec03_ch04_ORM_model.html">
     3.4. ORM 모델 완벽 이해
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="sec03_ch04-01_flask_ORM_library.html">
       3.4.1. Flask ORM 설치
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="sec03_ch04-02_design_model.html">
       3.4.2. 모델 설계 및 만들기
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="sec03_ch04-03_create_table.html">
       3.4.3. DB 테이블 만들기
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="sec03_ch04-04_chedk_model.html">
       3.4.4. 시각화 도구로 모델 확인
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="sec03_ch04-05_use_model.html">
       3.4.5. 모델에 CRUD 해보기
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="sec03_ch05_question_coding.html">
     3.5. 질문 게시판 만들기
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
    <label for="toctree-checkbox-5">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3 current active">
      <a class="current reference internal" href="#">
       3.5.1. Question List 조회
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="sec03_ch05-02_read_question_detail.html">
       3.5.2. Question 상세 조회
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="sec03_ch05-03_blueprint_func_seperation.html">
       3.5.3. 기능 분리 - Blueprint 활용
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="sec03_ch06_reply_coding.html">
     3.6. 게시판 댓글 구현
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="sec03_ch07_applying_CSS.html">
     3.7. 예쁘게 - CSS 적용
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="sec03_ch08_applying_Bootstrap.html">
     3.8. 더 예쁘게 - Bootstrap 활용
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="sec03_ch09_templates_inheritance.html">
     3.9. Template 상속
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="sec03_ch10_using_Form_data.html">
     3.10. Form 활용과 데이터 검증
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../apdx01_monolithic_vs_msa.html">
   4. Monolithic vs. MSA
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/Contents/Section03_building_fundamentals/sec03_ch05-01_make_question_list_and_read.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/executablebooks/jupyter-book"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FContents/Section03_building_fundamentals/sec03_ch05-01_make_question_list_and_read.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#view">
   3.5.1.1. view 파일 수정
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#render-template">
     3.5.1.1.1. render_template 깊은 이해
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#html">
   3.5.1.2. 템플릿(
   <code class="docutils literal notranslate">
    <span class="pre">
     .html
    </span>
   </code>
   ) 파일 작성
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Question List 조회</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#view">
   3.5.1.1. view 파일 수정
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#render-template">
     3.5.1.1.1. render_template 깊은 이해
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#html">
   3.5.1.2. 템플릿(
   <code class="docutils literal notranslate">
    <span class="pre">
     .html
    </span>
   </code>
   ) 파일 작성
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="question-list">
<span id="question-listing"></span><h1><span class="section-number">3.5.1. </span>Question List 조회<a class="headerlink" href="#question-list" title="Permalink to this headline">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">views/main_view.py</span></code>에서 작성한 코드를 다시 한번 확인해 봅니다.</p>
<div class="figure align-left" id="sec03-16-root-page-view">
<a class="reference internal image-reference" href="../../_images/sec03_16_root_page_view.png"><img alt="flask_tutorial" src="../../_images/sec03_16_root_page_view.png" style="width: 700px;" /></a>
<p class="caption"><span class="caption-number">Fig. 3.16 </span><span class="caption-text">루트 주소(<code class="docutils literal notranslate"><span class="pre">127.0.0.1:5000</span></code>)로 접속한 경우 화면</span><a class="headerlink" href="#sec03-16-root-page-view" title="Permalink to this image">¶</a></p>
</div>
<p>그림 <a class="reference internal" href="#sec03-16-root-page-view"><span class="std std-numref">Fig. 3.16</span></a> 에서 확인할 수 있는 것처럼
<code class="docutils literal notranslate"><span class="pre">main_view.py</span></code> 내부에서 루트 <code class="docutils literal notranslate"><span class="pre">/</span></code> 주소로(<code class="docutils literal notranslate"><span class="pre">127.0.0.1:5000</span></code> 또는 <code class="docutils literal notranslate"><span class="pre">localhost:5000</span></code>) 접속하면
<code class="docutils literal notranslate"><span class="pre">hello_world</span></code> 함수가 실행되고 사용자는 브라우저 화면에서 Flask가 보내준 정보를
확인하게 됩니다.
우리 예제에서는 <code class="docutils literal notranslate"><span class="pre">'Hello</span> <span class="pre">world!</span> <span class="pre">Welcome</span> <span class="pre">to</span> <span class="pre">CJU.'</span></code>라는 문자열이 보입니다.</p>
<p>우리는 ORM을 활용해서 DB를 다룰 수 있게 되었습니다. DB에 질문도 등록하고 답변도 등록할 수 있습니다.</p>
<p>이제는 단순히 문자열만 리턴하던 <code class="docutils literal notranslate"><span class="pre">hello_world</span></code> 함수를 변경하여 질문 목록을 리턴하는 함수로 변경하겠습니다. 이렇게 하면 루트 <code class="docutils literal notranslate"><span class="pre">/</span></code> 경로로 접속하면 ORM DB에 저장되어 있는 질문 데이터를 보여줄 수 있습니다.</p>
<p>질문 목록을 출력하기 위해 할 일은 2가지 입니다.</p>
<div class="admonition-to-do-list admonition">
<p class="admonition-title">To-Do List: 질문 목록 출력</p>
<ol class="simple">
<li><p>views 파일 (<code class="docutils literal notranslate"><span class="pre">/views/main_views.py</span></code>) 수정</p></li>
<li><p>질문 목록을 보여줄 템플릿(<code class="docutils literal notranslate"><span class="pre">.html</span></code>) 파일 작성</p></li>
</ol>
</div>
<div class="section" id="view">
<h2><span class="section-number">3.5.1.1. </span>view 파일 수정<a class="headerlink" href="#view" title="Permalink to this headline">¶</a></h2>
<p>views 파일 (<code class="docutils literal notranslate"><span class="pre">/views/main_views.py</span></code>) 수정 작업을 하겠습니다.</p>
<ul class="simple">
<li><p>필요한 모듈 import</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">render_templete</span></code>: 템플릿 파일 (<code class="docutils literal notranslate"><span class="pre">.html</span></code>)을 모니터 화면에 그려 줍니다.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Question</span></code> 클래스: ORM 모델로 만들어 놓은 <code class="docutils literal notranslate"><span class="pre">Question</span></code> 클래스</p></li>
</ul>
</li>
</ul>
<p>아래와 같이 <code class="docutils literal notranslate"><span class="pre">import</span></code> 합니다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">render_template</span>
<span class="kn">from</span> <span class="nn">hello_cju.models</span> <span class="kn">import</span> <span class="n">Question</span>
</pre></div>
</div>
<div class="section" id="render-template">
<span id="render-template-function"></span><h3><span class="section-number">3.5.1.1.1. </span>render_template 깊은 이해<a class="headerlink" href="#render-template" title="Permalink to this headline">¶</a></h3>
<p>좀 더 깊은 이해를 위해 아래 내용을 참고하세요.</p>
<div class="admonition-render-template admonition">
<p class="admonition-title">render_template 함수의 깊은 이해</p>
<p>Flask 공식 문서에서 제공하는 <code class="docutils literal notranslate"><span class="pre">render_template</span></code> 설명 (<a class="reference external" href="https://flask.palletsprojects.com/en/2.0.x/api/#flask.render_template">click</a>)</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>```{code} bash
flask.render_template(template_name_or_list, **context)
    Renders a template from the template folder 
    with the given context.

    Parameters:
        template_name_or_list (Union[str, List[str]]) 
            the name of the template to be rendered, 
            or an iterable with template names 
            the first one existing will be rendered

        context (Any) 
            the variables that should be available 
            in the context of the template.

    Return type: str
```
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">render_template</span></code> 기능: 전달된 <code class="docutils literal notranslate"><span class="pre">context</span></code> 정보를 사용하여 <code class="docutils literal notranslate"><span class="pre">template</span></code> 폴더에 있는 템플릿을 그려(render) 줍니다. 템플릿을 그린 다음에 사용자의 브라우저로 보내는 역할을 합니다.</p>
<p><code class="docutils literal notranslate"><span class="pre">render_template</span></code> 함수는 2개의 인자가 전달됩니다.</p>
<ul class="simple">
<li><p>첫 번째 인자: <code class="docutils literal notranslate"><span class="pre">template_name_or_list</span></code></p>
<ul>
<li><p>반드시 값이 전달되어야 합니다.</p></li>
<li><p>전달되는 인자는 문자열(<code class="docutils literal notranslate"><span class="pre">str</span></code>) 또는 문자열(<code class="docutils literal notranslate"><span class="pre">str</span></code>)을 담고 있는 이터러블(<code class="docutils literal notranslate"><span class="pre">iterable</span></code>) 이어야 합니다 (<code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">tuple</span></code> 등).</p></li>
<li><p>인자값은 화면에 그려야(<code class="docutils literal notranslate"><span class="pre">render</span></code>) 할 템플릿 이름입니다. 리스트로 전달될 경우 첫 번째 템플릿 이름을 적용합니다.<br></p></li>
</ul>
</li>
<li><p>두 번째 인자: <code class="docutils literal notranslate"><span class="pre">**context</span></code></p>
<ul>
<li><p>템플릿에서 사용할 데이터를 담고 있는 변수 입니다.</p></li>
<li><p>어떤(<code class="docutils literal notranslate"><span class="pre">any</span></code>) 형태라도 가능합니다.</p></li>
<li><p>일반적으로 반복 가능한 <code class="docutils literal notranslate"><span class="pre">iterable</span></code> 객체를 사용하여 전달합니다. <code class="docutils literal notranslate"><span class="pre">dictionary</span></code>, <code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">tuple</span></code> 자료형 모두 가능합니다.</p></li>
</ul>
</li>
</ul>
</div>
<p><code class="docutils literal notranslate"><span class="pre">hello_world</span></code> 함수를 수정하여 기존에 출력하던 <code class="docutils literal notranslate"><span class="pre">'Hello</span> <span class="pre">world!</span> <span class="pre">Welcome</span> <span class="pre">to</span> <span class="pre">CJU.'</span></code> 문자열 대신에 질문 목록을 출력하도록 수정하겠습니다.</p>
<div class="admonition-hello-cju admonition">
<p class="admonition-title">기존 hello_cju 소스 코드</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@bp</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello_world</span><span class="p">():</span>
  <span class="k">return</span> <span class="s1">&#39;Hello world! Welcome to CJU.&#39;</span>
</pre></div>
</div>
</div>
<p>변경된 소스코드는 다음과 같습니다.</p>
<div class="admonition-hello-cju admonition">
<p class="admonition-title">변경된 hello_cju 소스 코드</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@bp</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello_world</span><span class="p">():</span>
    <span class="c1"># return &#39;Hello world! Welcome to CJU.&#39;</span>
    <span class="n">question_list</span> <span class="o">=</span> <span class="n">Question</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">Question</span><span class="o">.</span><span class="n">create_date</span><span class="o">.</span><span class="n">desc</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span>
        <span class="s1">&#39;question/question_list.html&#39;</span><span class="p">,</span>
        <span class="n">question_list</span><span class="o">=</span><span class="n">question_list</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
<p>변경된 소스 코드에서 <code class="docutils literal notranslate"><span class="pre">Question.query.order_by(Question.create_date.desc())</span></code>의 의미는
<code class="docutils literal notranslate"><span class="pre">Question</span></code> 객체 중에서 생성 시간 <code class="docutils literal notranslate"><span class="pre">.create_date</span></code> 기준으로 역정렬 <code class="docutils literal notranslate"><span class="pre">.desc()</span></code> 하라는 뜻입니다.</p>
<p><code class="docutils literal notranslate"><span class="pre">main_views.py</span></code>의 <code class="docutils literal notranslate"><span class="pre">hello_cju</span></code> 함수에서 템플릿 파일 <code class="docutils literal notranslate"><span class="pre">question/question_list.html</span></code>로 데이터 <code class="docutils literal notranslate"><span class="pre">question_list</span></code>를 전달하면, 템플릿 파일에서 정의한 대로 화면을 그려서(<code class="docutils literal notranslate"><span class="pre">rendering</span></code>) 브라우저로 전달하게 됩니다.</p>
<p>참고로 우리는 아직까지  <code class="docutils literal notranslate"><span class="pre">question/question_list.html</span></code> 만들지 않았습니다.</p>
<p>현재 상태에서 flask 서버를 실행시킨다면 그림 <a class="reference internal" href="#sec03-17-templatenotfound-exception"><span class="std std-numref">Fig. 3.17</span></a> 같은 에러 메시지가 뜨게 됩니다.</p>
<div class="admonition-templatenotfound-exception admonition">
<p class="admonition-title">TemplateNotFound Exception</p>
<p>템플릿 파일이 없어서 생기는 에러(예외)</p>
<div class="figure align-left" id="sec03-17-templatenotfound-exception">
<a class="reference internal image-reference" href="../../_images/sec03_17_TemplateNotFound_Exception.png"><img alt="flask_tutorial" src="../../_images/sec03_17_TemplateNotFound_Exception.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-number">Fig. 3.17 </span><span class="caption-text">TemplateNotFound 에러(Exception)</span><a class="headerlink" href="#sec03-17-templatenotfound-exception" title="Permalink to this image">¶</a></p>
<div class="legend">
<p>위 예외 메시지 아래로 에러가 발생한 추적 경로 (Traceback) 정보가 주루룩 표시됩니다.
경우에 따라서는 수십 라인이 될 수도 있습니다.
개발자는 Trackback 경로를 차근차근 읽어보면 어디에서 왜, 어떤 것이 잘못되었는지 파악할 수 있습니다.</p>
</div>
</div>
</div>
<p>그림 <a class="reference internal" href="#sec03-17-templatenotfound-exception"><span class="std std-numref">Fig. 3.17</span></a> 화살표가 가리키는 빨간색 사각형 안에 <code class="docutils literal notranslate"><span class="pre">question/question_list.html</span></code> 파일이 없다는 의미입니다.</p>
<p>Flask 입장에서는 <code class="docutils literal notranslate"><span class="pre">main_views.py</span></code> 에서 <code class="docutils literal notranslate"><span class="pre">question/question_list.html</span></code> 로 context를 <code class="docutils literal notranslate"><span class="pre">question_list</span></code> 라는 이름을 붙여서 보냈는데, 막상 찾아보니 데이터를 받을 <code class="docutils literal notranslate"><span class="pre">question/question_list.html</span></code> 자체가 없는 겁니다. 대략 난감하겠죠?</p>
<p>Flask는 고민하다가 이렇게 결정했을 겁니다.</p>
<div class="admonition-flask admonition">
<p class="admonition-title">Flask의 고민</p>
<p>“데이터를 받아 처리할 템플릿 <code class="docutils literal notranslate"><span class="pre">.html</span></code> 자체가 없네… ㅠ.</p>
<p>프로그래머가 깜빡한 모양이다.</p>
<p>에러(Exception)를 출력해서 알려줘야 겠다!”</p>
<p>그래서 나오는 에러가 바로 그림 <a class="reference internal" href="#sec03-17-templatenotfound-exception"><span class="std std-numref">Fig. 3.17</span></a> 입니다.</p>
</div>
</div>
</div>
<div class="section" id="html">
<h2><span class="section-number">3.5.1.2. </span>템플릿(<code class="docutils literal notranslate"><span class="pre">.html</span></code>) 파일 작성<a class="headerlink" href="#html" title="Permalink to this headline">¶</a></h2>
<p>이 문제를 어떻게 해결하면 될까요?</p>
<p>네, 맞습니다. <code class="docutils literal notranslate"><span class="pre">question/question_list.html</span></code> 파일을 만들면 됩니다.</p>
<p>어라? 그런데 어디에 만들라는 거지?
약간 당황스럽습니다. 하지만, 당황하지 마세요. Flask는 기본적으로 우리가 만든 프로젝트 폴더에 있는 <code class="docutils literal notranslate"><span class="pre">templates/</span></code> 디렉토리에서 템플릿을 찾도록 약속해 놨습니다. 여러분이 제 실습 코드를 그대로 따라왔다면 <code class="docutils literal notranslate"><span class="pre">hello_cju/templates/</span></code> 디렉토리가 됩니다.</p>
<p>어디에 템플릿 파일을 만들지 알았습니다. 그러면 만들면 되겠죠?</p>
<p>그림 <a class="reference internal" href="#sec03-18-create-template-file"><span class="std std-numref">Fig. 3.18</span></a> 참고하여 <code class="docutils literal notranslate"><span class="pre">hello_cju/templates/</span></code> 디렉토리 아래에 <code class="docutils literal notranslate"><span class="pre">question</span></code> 디렉토리를 만들고 그 안에 <code class="docutils literal notranslate"><span class="pre">question_list.html</span></code> 파일을 만들면 됩니다.</p>
<div class="figure align-left" id="sec03-18-create-template-file">
<a class="reference internal image-reference" href="../../_images/sec03_18_create_template_file.png"><img alt="flask_tutorial" src="../../_images/sec03_18_create_template_file.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-number">Fig. 3.18 </span><span class="caption-text">템플릿 파일 <code class="docutils literal notranslate"><span class="pre">hello_cju/templates/question/question_list.html</span></code> 만들기</span><a class="headerlink" href="#sec03-18-create-template-file" title="Permalink to this image">¶</a></p>
</div>
<p>템플릿 파일 <code class="docutils literal notranslate"><span class="pre">question_list.html</span></code>을 만들었으니 내용을 채워 넣으면 됩니다.
우선 아래와 같이 코딩해 줍니다.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>{% if question_list %}
    <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
        {% for question in question_list  %}
            <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/detail/{{ question.id }}&quot;</span><span class="p">&gt;</span>{{ question.title }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
        {% endfor %}
    <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>

{% else %}
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>질문이 없습니다.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>

{% endif %}
</pre></div>
</div>
<p>위 코드에서 <code class="docutils literal notranslate"><span class="pre">{%</span></code>와  <code class="docutils literal notranslate"><span class="pre">%}</span></code>로 둘러싸인 부분에 파이썬 명령어와 비슷한 것이 들어있는 표현이 있습니다. 이것을 <code class="docutils literal notranslate"><span class="pre">템플릿</span> <span class="pre">태그</span></code>라고 합니다. <code class="docutils literal notranslate"><span class="pre">HTML</span></code> 문서에서는 다양한 태그(<code class="docutils literal notranslate"><span class="pre">tag</span></code>)를 이용하여 문서를 작성합니다.</p>
<p>원래 <code class="docutils literal notranslate"><span class="pre">html</span></code> 문서는 말 그대로 한글이나 파워포인트와 같은 <code class="docutils literal notranslate"><span class="pre">문서</span></code> 그 자체이므로 프로그래밍 언어에서 사용하는 조건문, 반복문 등을 사용할 수 없습니다.</p>
<p>하지만 Flask에서 사용하는 <code class="docutils literal notranslate"><span class="pre">Jinja2</span></code> 템플릿 엔진은 Python 명령어를 이용하여 데이터를 처리하여 최종 문서를 만들 수 있도록 지원합니다.</p>
<p>Python 명령어를 사용하기 위해서는 <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">파이썬</span> <span class="pre">명령어</span> <span class="pre">%}</span></code> 와 같은 형태로 사용합니다.</p>
<p>특정 데이터 값을 참조하기 위해서는 <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">참조할</span> <span class="pre">자료</span> <span class="pre">}}</span></code> 와 같은 형태를 사용합니다.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">{}</span></code>내부에 <code class="docutils literal notranslate"><span class="pre">%</span></code> 로 둘러 싸면 파이썬 명령어,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">{}</span></code>내부에 <code class="docutils literal notranslate"><span class="pre">{}</span></code> 로 둘러 싸면 데이터라고 생각하면 편합니다.</p></li>
</ul>
<p>위 코드는 만약 <code class="docutils literal notranslate"><span class="pre">view</span></code> 파일에서 전달받은 context에(우리의 경우 <code class="docutils literal notranslate"><span class="pre">question_list</span></code>) 자료가 있을 경우는 <code class="docutils literal notranslate"><span class="pre">for</span></code>문을 돌면서 데이터를 <code class="docutils literal notranslate"><span class="pre">question</span></code> 이라는 변수에 담은 다음 차례대로 <code class="docutils literal notranslate"><span class="pre">li</span></code> 태그와 <code class="docutils literal notranslate"><span class="pre">a</span></code> 태그를 이용해 출력하는 템플릿입니다. 만약 자료가 없을 경우에는 <code class="docutils literal notranslate"><span class="pre">p</span></code> 태그를 이용해 <code class="docutils literal notranslate"><span class="pre">질문이</span> <span class="pre">없습니다.</span></code>라는 문자열만 출력합니다.</p>
<p><code class="docutils literal notranslate"><span class="pre">a</span></code> 태그는 해당 문자열에 링크를 걸어주는 역할을 합니다.
우리는 질문 제목(<code class="docutils literal notranslate"><span class="pre">question.title</span></code>)에 링크를 걸어주고, 그 질문 제목을 클릭하면
<code class="docutils literal notranslate"><span class="pre">/detail/질문ID</span></code>로 연결하도록 코딩했습니다. 링크만 걸려 있지 아직은 작동하지 않습니다.
<code class="docutils literal notranslate"><span class="pre">localhost:5000/detail/2</span></code> 요런 식으로 주소창에 입력해도 <code class="docutils literal notranslate"><span class="pre">Not</span> <span class="pre">Found</span></code> 라는 메시지만 출력될 것입니다. 우리가 <code class="docutils literal notranslate"><span class="pre">view</span></code> 파일도, 템플릿 <code class="docutils literal notranslate"><span class="pre">.html</span></code> 파일도 작성하지 않았기 때문입니다.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>독특한 것은 <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">endfor</span> <span class="pre">%}</span></code>, <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">endif</span> <span class="pre">%}</span></code>와 같이 Python 명령어의 끝을 표시해야 한다는 것입니다. 파이썬은 줄바꿈과 들여쓰기로 명령어 실행 구역을 자동으로 감지하지만 <code class="docutils literal notranslate"><span class="pre">.html</span></code> 파일은 줄바꿈, 들여쓰기를 인식하지 못하기 때문에 별도로 지정을 해주어야 합니다.</p>
</div>
<p>Flask 서버를 재시작 하고 <code class="docutils literal notranslate"><span class="pre">localhost:5000</span></code>으로 접속하면 그림 <a class="reference internal" href="#sec03-19-question-tiltle"><span class="std std-numref">Fig. 3.19</span></a> 같은 응답 화면을 볼 수 있습니다.</p>
<div class="figure align-left" id="sec03-19-question-tiltle">
<a class="reference internal image-reference" href="../../_images/sec03_19_question_tiltle.png"><img alt="flask_tutorial" src="../../_images/sec03_19_question_tiltle.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-number">Fig. 3.19 </span><span class="caption-text">SQLite DB에 저장된 질문 목록을 출력한</span><a class="headerlink" href="#sec03-19-question-tiltle" title="Permalink to this image">¶</a></p>
</div>
<p>우리가 만든 SQLite DB에 질문이 1개 밖에 없으므로 하나의 질문 제목만 출력될 것입니다.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Flask에서 자주 활용하는 템플릿 태그 조건문과 반복문 입니다.</p>
<ul class="simple">
<li><p>조건문: <code class="docutils literal notranslate"><span class="pre">if</span></code>, <code class="docutils literal notranslate"><span class="pre">elif</span></code>, <code class="docutils literal notranslate"><span class="pre">else</span></code> - <code class="docutils literal notranslate"><span class="pre">endif</span></code> 구조</p></li>
<li><p>반복문: <code class="docutils literal notranslate"><span class="pre">for</span></code> - <code class="docutils literal notranslate"><span class="pre">endfor</span></code> 구조</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">loop</span></code>: 반복문을 돌 때 반복순서(순번) 출력을 편리하게 해주는 태그</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">loop.index</span></code>: 반복순서를 표시, 1부터 1씩 증가</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">loop.index0</span></code>: 반복순서를 표시, 0부터 1씩 증가</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">loop.first</span></code>: 반복순서가 처음이면 <code class="docutils literal notranslate"><span class="pre">True</span></code>, 아니면 <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">loop.first</span></code>: 반복순서가 마지막이면 <code class="docutils literal notranslate"><span class="pre">True</span></code>, 아니면 <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>좀 더 다양한 탬플릿 태그 정보는 <code class="docutils literal notranslate"><span class="pre">jinja</span></code> 엔진 공식 문서 (<a class="reference external" href="https://jinja.palletsprojects.com/en/2.10.x/templates/">click</a>) 참고하기 바랍니다.</p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./Contents\Section03_building_fundamentals"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="sec03_ch05_question_coding.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><span class="section-number">3.5. </span>질문 게시판 만들기</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="sec03_ch05-02_read_question_detail.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">3.5.2. </span>Question 상세 조회</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Giseop Noh<br/>
    
        &copy; Copyright Prof. Giseop Noh in Cheongju University.<br/>
      <div class="extra_footer">
        <p>
    본 책자에 적용되는 라이센스 
    <a href="https://opensource.org/licenses/MIT">
      MIT License
    </a>.
</p>

      </div>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>